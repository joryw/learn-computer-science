# 第2章：信息的表示和处理

* 无符号：传统二进制，表示大于或等于0的数
* 补码：有符号整数，正负均可
* 浮点数：实数的科学计数法，以2位基数

精度有限，浮点运算不可结合

## 2.1信息存储

### 2.1.1十六进制表示法

8位的字节作为**最小可寻址内存单位**

**虚拟内存：**非常大的字节数组

**地址：**每个字节由唯一数字标识

#### 十进制转十六进制

进行16整除，取余

![image-20211228220247512](第2章：信息的表示和处理.assets/image-20211228220247512.png)

#### 十六进制转十进制

![image-20211228220347128](第2章：信息的表示和处理.assets/image-20211228220347128.png)

#### 练习题2.4

![image-20211228221757826](第2章：信息的表示和处理.assets/image-20211228221757826.png)

注意：分清是操作数为十进制还是十六进制

### 2.1.2字数据大小

![image-20211228222818795](第2章：信息的表示和处理.assets/image-20211228222818795.png)

### 2.1.3寻址和字节顺序

例如：int变量x地址为0x100，则4个字节存储在内存0x100、0x101、0x102、0x103位置

小端法：最**低**有效字节在最前面

大端法：最**高**有效字节在最前面

![image-20211228223409984](第2章：信息的表示和处理.assets/image-20211228223409984.png)

**大多数intel兼容机小端法，IBM和Oracle大多数机器大端。**许多比较新的微处理器是双端法（可配置大端或小端）。实际上选择**特定操作系统**，字节顺序也就**固定**

字节顺序情况

1. 网络传输时，通过网络标准将大端和小端的两个机器数据进行转换
2. 反汇编代码，不同字节顺序也会影响阅读。
3. 不同机器进行show_bytes处理。除了字节顺序，其他得到的结果都是一致的

![image-20211228224645191](第2章：信息的表示和处理.assets/image-20211228224645191.png)

> 可以使用typedef命名数据类型。如`typedef int *int_ponter`  则`*int_ponter`代表了int类型

### 2.1.6布尔代数

![image-20211229155230165](第2章：信息的表示和处理.assets/image-20211229155230165.png)

### 2.1.7C语言中的位级运算

异或的实现

![image-20211229164005127](第2章：信息的表示和处理.assets/image-20211229164005127.png)

### 2.1.9移位运算

![image-20211229164306811](第2章：信息的表示和处理.assets/image-20211229164306811.png)

口诀：尖角指向哪，就往哪里移。

![image-20211229164450902](第2章：信息的表示和处理.assets/image-20211229164450902.png)

![image-20211229164725721](第2章：信息的表示和处理.assets/image-20211229164725721.png)

**加减法优先级比移位运算高。**当不确定的时候，加括号

## 2.2整数表示

![image-20211229164908608](第2章：信息的表示和处理.assets/image-20211229164908608.png)

### 2.2.1整数数据类型

负数范围比整数范围大1

### 2.2.2无符号数编码

![image-20211229165240137](第2章：信息的表示和处理.assets/image-20211229165240137.png)

**最大值**

![image-20211229165348126](第2章：信息的表示和处理.assets/image-20211229165348126.png)

### 2.2.3补码编码

![image-20211229172340154](第2章：信息的表示和处理.assets/image-20211229172340154.png)

![image-20211229172404362](第2章：信息的表示和处理.assets/image-20211229172404362.png)

![image-20211229172414532](第2章：信息的表示和处理.assets/image-20211229172414532.png)

![image-20211229172552547](第2章：信息的表示和处理.assets/image-20211229172552547.png)

![image-20211229172716025](第2章：信息的表示和处理.assets/image-20211229172716025.png)

![image-20211229203949536](第2章：信息的表示和处理.assets/image-20211229203949536.png)

![image-20211229205347693](第2章：信息的表示和处理.assets/image-20211229205347693.png)

![image-20211229205921432](第2章：信息的表示和处理.assets/image-20211229205921432.png)

转换加上或者减去![image-20211229210038451](第2章：信息的表示和处理.assets/image-20211229210038451.png)即可

### 2.2.5C语言有符号数与无符号数

默认有符号，创建无符号常量，加上后缀U或u

显式强制类型换

![image-20211229210241480](第2章：信息的表示和处理.assets/image-20211229210241480.png)

隐式转换：当一种类型表达式被赋值给另一种类型

![image-20211229210330992](第2章：信息的表示和处理.assets/image-20211229210330992.png)

运算时，如果一个有符号另一个无符号，C语言隐式将有符号强转为无符号数（非负）

![image-20211229210805317](第2章：信息的表示和处理.assets/image-20211229210805317.png)

![image-20211229211710576](第2章：信息的表示和处理.assets/image-20211229211710576.png)

1. ![image-20211229211756399](第2章：信息的表示和处理.assets/image-20211229211756399.png) 为无符号后成2147483648
2. 并且负数值越接近零，转为无符号数越大

### 2.2.8有符号与无符号数的建议

![image-20220104191444737](第2章：信息的表示和处理.assets/image-20220104191444737.png)

![image-20220104192237295](第2章：信息的表示和处理.assets/image-20220104192237295.png)

## 2.3整数运算

### 2.3.1无符号加法

![image-20220104192348056](第2章：信息的表示和处理.assets/image-20220104192348056.png)

![image-20220104192441546](第2章：信息的表示和处理.assets/image-20220104192441546.png)

![image-20220104192659049](第2章：信息的表示和处理.assets/image-20220104192659049.png)

### 2.3.2补码加法

![image-20220104192852152](第2章：信息的表示和处理.assets/image-20220104192852152.png)

![image-20220104192904270](第2章：信息的表示和处理.assets/image-20220104192904270.png)

![image-20220104193120315](第2章：信息的表示和处理.assets/image-20220104193120315.png)

![image-20220104194115479](第2章：信息的表示和处理.assets/image-20220104194115479.png)

### 2.3.3补码的非

![image-20220104195406428](第2章：信息的表示和处理.assets/image-20220104195406428.png)

补码非：取反加1

### 2.3.4无符号乘法

![image-20220104195946250](第2章：信息的表示和处理.assets/image-20220104195946250.png)

### 2.3.5补码乘法

![image-20220104200023907](第2章：信息的表示和处理.assets/image-20220104200023907.png)

先进行无符号乘法取模，再转为补码

补码和无符号乘法取模截断后的位级表示都相同

### 2.3.6乘以常数

![image-20220104201529371](第2章：信息的表示和处理.assets/image-20220104201529371.png)

通过移位、加法和减法消除整数乘以常数的情况。

![image-20220104201801025](第2章：信息的表示和处理.assets/image-20220104201801025.png)![image-20220104201819719](第2章：信息的表示和处理.assets/image-20220104201819719.png)

注意溢出情况。

![image-20220104202117241](第2章：信息的表示和处理.assets/image-20220104202117241.png)

两种形式计算位对乘积影响

![image-20220104203105615](第2章：信息的表示和处理.assets/image-20220104203105615.png)

### 2.3.7除以2的幂

![image-20220104204738866](第2章：信息的表示和处理.assets/image-20220104204738866.png)

![image-20220104204755327](第2章：信息的表示和处理.assets/image-20220104204755327.png)

![image-20220104205054750](第2章：信息的表示和处理.assets/image-20220104205054750.png)

偏量为(1<<k) - 1

**不能用除以2的幂表示除以任何常数K的除法**

![image-20220104211700499](第2章：信息的表示和处理.assets/image-20220104211700499.png)

## 2.4浮点数

### 2.4.2IEEE浮点表示

![image-20220104211845175](第2章：信息的表示和处理.assets/image-20220104211845175.png)

32位中，s、exp和frac分别为1、8、23

64位中，s、exp和frac分别为1、11、52

**三种不同情况**

![image-20220104212046018](第2章：信息的表示和处理.assets/image-20220104212046018.png)

**情况1：规格化数**

阶码：E=e-Bias

Bias=<img src="第2章：信息的表示和处理.assets/image-20220104212222583.png" alt="image-20220104212222583" style="zoom:67%;" />

指数取值范围：单精度-126~+127，双精度-1022~+10233

尾数：1+f（隐含的1开头）

**情况2：非规格化值**

1. 提供表示数值0的方法(M=f=0)
2. 表示非常接近0.0的数（逐渐溢出）

**情况3：特殊值**

无穷：f全0

NaN：f不为0

### 2.4.3数字示例

![image-20220104212758363](第2章：信息的表示和处理.assets/image-20220104212758363.png)

